(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{248:function(e,t,n){e.exports=n(479)},479:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(93),o=n.n(c),i=n(483),u=n(11),l=n(53),s=n(24),p=n(4),d=n(8),f=n(9),m=n(12),b=n(10),h=n(13),v=n(26),E=n(482),g=n(481),j=n(5);function O(){var e=Object(p.a)(["\n    cursor:pointer;\n    color:transparent;\n    background-color: transparent;\n        &:not(:first-child) {\n            margin-left:10px;\n        }\n        &:focus, &:active {\n            color:transparent;\n            background-color: transparent;\n        }\n"]);return O=function(){return e},e}function y(){var e=Object(p.a)(["\npadding:5px 10px;\ncolor:white;\nfont-size:1.6rem;\nborder:0;\nbackground-color:",";\ncursor:pointer;\n&:not(:first-child) {\n    margin-left:10px;\n}\n&:hover, &:focus {\noutline:0;\n}\n"]);return y=function(){return e},e}function w(){var e=Object(p.a)(["\ndisplay:flex;\nalign-items:center;\npadding:10px;\n"]);return w=function(){return e},e}function k(){var e=Object(p.a)(["\ndisplay:flex;\nalign-items:center;\npadding:10px;\n"]);return k=function(){return e},e}function x(){var e=Object(p.a)(["\ndisplay:flex;\nalign-items:center;\npadding:10px;\n"]);return x=function(){return e},e}function F(){var e=Object(p.a)(["\n  display:flex;\n  align-items:center;\n  justify-content:space-between;\n  flex-wrap:wrap;\n  padding:10px;\n  background-color: #a76139;\n"]);return F=function(){return e},e}var U=j.b.header(F()),A=j.b.div(x()),D=j.b.div(k()),L=j.b.div(w()),C=j.b.button(y(),function(e){return e.primary?"#654369":"#433f80"}),R=Object(j.b)(g.a)(O());function N(){var e=Object(p.a)(["\ncolor: ",";\nfont-size:40px;\n"]);return N=function(){return e},e}function S(){var e=Object(p.a)(["\ncolor:",";\nfont-size:20px;\npadding:",";\n"]);return S=function(){return e},e}var P=j.b.p(S(),function(e){return e.color?"".concat(e.color):"#4a4a4a"},function(e){return e.p?"".concat(e.p):"0"}),T=j.b.h2(N(),function(e){return e.dark?"#4a4a4a":"#fafafa"}),I="/:pages?/:param?/:param1?/:param2?/:param3?",M=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).logOut=function(){n.props.firebase.logout(),n.props.history.push("/")},n}return Object(h.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.auth,t=e.isLoaded&&!e.isEmpty;return a.a.createElement(U,null,a.a.createElement(A,null,a.a.createElement(R,{to:"/home"},a.a.createElement(P,{color:"white"},"FireStore Test"))),a.a.createElement(D,null,a.a.createElement(R,{to:"/home"},a.a.createElement(P,{color:"white"},"Home")),a.a.createElement(R,{to:"/users"},a.a.createElement(P,{color:"white"},"Users")),!0===t&&a.a.createElement(R,{to:"/firebase"},a.a.createElement(P,{color:"white"},"Firebase"))),a.a.createElement(L,null,!0===t?a.a.createElement(r.Fragment,null,a.a.createElement(P,{color:"white"},e.displayName),a.a.createElement(C,{onClick:this.logOut,second:!0},"Logout")):a.a.createElement(r.Fragment,null,a.a.createElement(R,{to:"/login"},a.a.createElement(C,{primary:!0},"Login")),a.a.createElement(R,{to:"/signup"},a.a.createElement(C,{second:!0},"Sign Up")))))}}]),t}(r.Component),z=Object(E.a)(Object(v.withFirebase)(Object(u.b)(function(e){return{auth:e.firebase.auth}})(M)));function W(){var e=Object(p.a)(["\n  * {\n    padding:0;\n    margin:0;\n    box-sizing:border-box;\n  }\n  ul {\n    list-style: none;\n  }\n"]);return W=function(){return e},e}var _=Object(j.a)(W()),B={component:function(e){var t=e.route;return a.a.createElement(r.Fragment,null,a.a.createElement(_,null),a.a.createElement(z,null),Object(l.a)(t.routes))}};function H(){var e=Object(p.a)(["\n  display:flex;\n"]);return H=function(){return e},e}function X(){var e=Object(p.a)(["\n  display:flex;\n"]);return X=function(){return e},e}var G=j.b.section(X()),J=(j.b.div(H()),{component:function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return a.a.createElement(G,null,a.a.createElement(P,{dark:!0},"Home"))}}]),t}(r.Component)}),V=n(246),q=n(32),K=function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.detail;return a.a.createElement("div",null,e&&Object(V.a)(e).map(function(e,t){return a.a.createElement("ul",{key:t},a.a.createElement("li",null,a.a.createElement(T,{dark:!0},e.id)),a.a.createElement("li",null,a.a.createElement(P,{dark:!0},e.color)),a.a.createElement("li",null,a.a.createElement(P,{dark:!0},e.size)),a.a.createElement("li",null,a.a.createElement(P,{dark:!0},e.boolen?"true":"false")))}))}}]),t}(r.Component),Z={loadData:function(){Object(v.firestoreConnect)(["detail"])},component:function(e){var t=function(t){function n(){return Object(d.a)(this,n),Object(m.a)(this,Object(b.a)(n).apply(this,arguments))}return Object(h.a)(n,t),Object(f.a)(n,[{key:"componentDidMount",value:function(){this.shouldNavigateAway()}},{key:"componentDidUpdate",value:function(){this.shouldNavigateAway()}},{key:"shouldNavigateAway",value:function(){!1===(this.props.auth.isLoaded&&!this.props.auth.isEmpty)&&this.props.history.push("/")}},{key:"render",value:function(){return a.a.createElement(e,this.props)}}]),n}(r.Component);return Object(v.withFirebase)(Object(u.b)(function(e){return{auth:e.firebase.auth}})(t))}(Object(q.d)(Object(v.firestoreConnect)(["detail"]),Object(u.b)(function(e){return{detail:e.firestore.ordered.detail?e.firestore.ordered.detail:null}}))(K))},Q=n(19),Y=n.n(Q),$=n(31),ee=n(147),te=n.n(ee),ne=function(){return function(){var e=Object($.a)(Y.a.mark(function e(t){var n;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.get("https://jsonplaceholder.typicode.com/users");case 2:n=e.sent,t({type:"fetch_users",payload:n});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},re=function(){return function(){var e=Object($.a)(Y.a.mark(function e(t){var n;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.get("https://jsonplaceholder.typicode.com/posts");case 2:n=e.sent,t({type:"fetch_posts",payload:n});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},ae=n(94),ce=function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchUsers()}},{key:"renderUsers",value:function(){return this.props.users.map(function(e,t){return a.a.createElement("li",{key:t},e.name,a.a.createElement(g.a,{to:"/users/"+e.id},e.id))})}},{key:"head",value:function(){return a.a.createElement(ae.Helmet,null,a.a.createElement("title",null,"".concat(this.props.users.length," Users Loaded")),a.a.createElement("meta",{name:"description",content:"Users List"}),a.a.createElement("meta",{property:"og:title",content:"Users App"}),a.a.createElement("meta",{property:"og:description",content:"Users App Test Desc."}))}},{key:"render",value:function(){return a.a.createElement(r.Fragment,null,this.head(),a.a.createElement("h1",null,"List of users:"),a.a.createElement("ul",null,this.renderUsers()),Object(l.a)(this.props.route.routes))}}]),t}(r.Component),oe={loadData:function(e){return e.dispatch(ne())},component:Object(u.b)(function(e){return{users:e.users}},{fetchUsers:ne})(ce)},ie=function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"renderUsers",value:function(){return this.props.posts.map(function(e,t){return a.a.createElement("li",{key:t},e.title)})}},{key:"head",value:function(){return a.a.createElement(ae.Helmet,null,a.a.createElement("title",null,"User Posts"),a.a.createElement("meta",{name:"description",content:"Users List"}),a.a.createElement("meta",{property:"og:title",content:"Users App"}),a.a.createElement("meta",{property:"og:description",content:"Users App Test Desc."}))}},{key:"render",value:function(){return a.a.createElement(r.Fragment,null,this.head(),a.a.createElement("h1",null,"Posts"),a.a.createElement("ul",null,this.renderUsers()))}}]),t}(r.Component),ue={loadData:function(e){return e.dispatch(re())},component:Object(u.b)(function(e){return{posts:e.posts}},{fetchPosts:re})(ie)};function le(){var e=Object(p.a)(["\nbackground-color:white;\npadding:10px;\nborder-radius:5px;\n\n"]);return le=function(){return e},e}function se(){var e=Object(p.a)(["\nposition:absolute;\nleft:100%;\ncursor:pointer;\n\n"]);return se=function(){return e},e}function pe(){var e=Object(p.a)(["\nposition:relative;\npadding:0 20px 0;\nmargin:7% 0 20px;\nalign-self:flex-start;\n\n"]);return pe=function(){return e},e}function de(){var e=Object(p.a)(["\nposition:fixed;\ntop:0;\nleft:0;\nwidth: 100vw;\nheight: 100vh;\nbackground-color:rgba(0,0,0,0.5);\ndisplay:flex;\njustify-content:center;\npadding:20px;\n\n"]);return de=function(){return e},e}var fe=j.b.div(de()),me=j.b.div(pe()),be=j.b.div(se()),he=j.b.div(le());function ve(){var e=Object(p.a)(["\nwidth:auto;\nborder-radius:6px;\nbackground-color:#4b5fbf;\ncolor:white;\ncursor:pointer;\n"]);return ve=function(){return e},e}function Ee(){var e=Object(p.a)(["\nwidth:100%;\nheight: 40px;\nborder:0;\nfont-size:1.8rem;\npadding:0 10px;\noutline:0;\n"]);return Ee=function(){return e},e}function ge(){var e=Object(p.a)(["\nborder:2px solid #9e9ea5;\nborder-radius:6px;\noverflow:hidden;\nwidth:100%;\n"]);return ge=function(){return e},e}function je(){var e=Object(p.a)(["\npadding:0 0 3px 0;\n\n"]);return je=function(){return e},e}function Oe(){var e=Object(p.a)(["\nwidth:100%;\n\n"]);return Oe=function(){return e},e}function ye(){var e=Object(p.a)(["\npadding:10px;\ndisplay:flex;\njustify-content:",";\n\n"]);return ye=function(){return e},e}function we(){var e=Object(p.a)(["\npadding:10px 0;\n\n"]);return we=function(){return e},e}function ke(){var e=Object(p.a)(["\npadding:10px;\n"]);return ke=function(){return e},e}function xe(){var e=Object(p.a)(["\nwidth:500px;\ndisplay:flex;\nflex-direction:column;\n\n"]);return xe=function(){return e},e}var Fe=j.b.form(xe()),Ue=j.b.div(ke()),Ae=j.b.div(we()),De=j.b.div(ye(),function(e){return e.end?"flex-end":"flex-start"}),Le=j.b.div(Oe()),Ce=j.b.div(je()),Re=j.b.div(ge()),Ne=j.b.input(Ee()),Se=Object(j.b)(Ne)(ve()),Pe=function(e,t){return function(){var n=Object($.a)(Y.a.mark(function n(r,a,c){var o,i,u,l,p,d;return Y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=c.getFirebase,i=c.getFirestore,u=o(),l=i(),n.prev=3,n.next=6,u.auth().createUserWithEmailAndPassword(e.email,e.password);case 6:return n.next=8,u.auth().currentUser;case 8:return p=n.sent,n.next=11,p.updateProfile({displayName:e.username});case 11:return d={displayName:e.username,email:e.email,createdAt:l.FieldValue.serverTimestamp()},n.next=14,l.set({collection:"users",doc:p.uid},Object(s.a)({},d));case 14:t(),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(3),console.log(n.t0);case 20:case"end":return n.stop()}},n,this,[[3,17]])}));return function(e,t,r){return n.apply(this,arguments)}}()};function Te(){var e=Object(p.a)(["\n  background-color:",";\n  border-radius:4px;\n  cursor:pointer;\n"]);return Te=function(){return e},e}function Ie(){var e=Object(p.a)(["\n  display:flex;\n  flex-direction:column;\n"]);return Ie=function(){return e},e}var Me=j.b.section(Ie()),ze=j.b.section(Te(),function(e){return e.bc?"".concat(e.bc):"transparent"}),We=function(e,t){return function(){var n=Object($.a)(Y.a.mark(function n(r,a,c){var o,i,u,l,s;return Y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=c.getFirebase,i=c.getFirestore,u=o(),l=i(),n.prev=3,n.next=6,u.login({provider:e,type:"popup"});case 6:if(!(s=n.sent).additionalUserInfo.isNewUser){n.next=10;break}return n.next=10,l.set({collection:"users",doc:s.user.uid},{displayName:s.profile.displayName,photoURL:s.profile.avatarUrl,createdAt:l.FieldValue.serverTimestamp()});case 10:t(),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(3),console.log(n.t0);case 16:case"end":return n.stop()}},n,this,[[3,13]])}));return function(e,t,r){return n.apply(this,arguments)}}()},_e=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).loginSocial=function(e){return function(){n.props.dispatch(We(e,function(){n.props.history.push("/")}))}},n}return Object(h.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return a.a.createElement(r.Fragment,null,a.a.createElement(Me,null,a.a.createElement(De,null,a.a.createElement(ze,{bc:"blue",onClick:this.loginSocial("facebook")},a.a.createElement(P,{p:"10px",color:"white"},"Login With Facebook"))),a.a.createElement(De,null,a.a.createElement(ze,{bc:"red",onClick:this.loginSocial("google")},a.a.createElement(P,{p:"10px",color:"white"},"Login With Google")))))}}]),t}(r.Component),Be=Object(u.b)()(_e),He=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(c)))).loginRef=a.a.createRef(),n.closeModal=function(e){void 0!==window&&!1===n.loginRef.current.contains(e.target)&&n.run()},n.run=function(){n.props.history.goBack()},n.sendRegisterData=function(e){e.preventDefault();var t={username:e.target.username.value,email:e.target.email.value,password:e.target.password.value};n.props.dispatch(Pe(t,function(){n.props.history.push("/")}))},n}return Object(h.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){window.addEventListener("click",e.closeModal)},0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.closeModal)}},{key:"render",value:function(){return a.a.createElement(fe,null,a.a.createElement(me,null,a.a.createElement(be,{onClick:this.run},a.a.createElement(P,{color:"white"},"EXIT")),a.a.createElement(he,{ref:this.loginRef},a.a.createElement(Fe,{onSubmit:this.sendRegisterData},a.a.createElement(Ue,null,a.a.createElement(T,{dark:!0},"Register Form")),a.a.createElement(Ae,null,a.a.createElement(De,null,a.a.createElement(Le,null,a.a.createElement(Ce,null,a.a.createElement(P,null,"User Name")),a.a.createElement(Re,null,a.a.createElement(Ne,{name:"username"})))),a.a.createElement(De,null,a.a.createElement(Le,null,a.a.createElement(Ce,null,a.a.createElement(P,{dark:!0},"E-mail")),a.a.createElement(Re,null,a.a.createElement(Ne,{name:"email"})))),a.a.createElement(De,null,a.a.createElement(Le,null,a.a.createElement(Ce,null,a.a.createElement(P,{dark:!0},"Password")),a.a.createElement(Re,null,a.a.createElement(Ne,{name:"password"})))),a.a.createElement(De,{end:"true"},a.a.createElement(Se,{type:"submit",value:"SEND"})))),a.a.createElement("hr",null),a.a.createElement(Be,{history:this.props.history}))))}}]),t}(r.Component),Xe={component:Object(u.b)()(He)},Ge=function(e,t){return function(){var n=Object($.a)(Y.a.mark(function n(r,a,c){var o,i;return Y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=c.getFirebase,i=o(),n.prev=2,n.next=5,i.auth().signInWithEmailAndPassword(e.email,e.password);case 5:t(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),console.log(n.t0);case 11:case"end":return n.stop()}},n,this,[[2,8]])}));return function(e,t,r){return n.apply(this,arguments)}}()},Je=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(c)))).loginRef=a.a.createRef(),n.closeModal=function(e){void 0!==window&&!1===n.loginRef.current.contains(e.target)&&n.run()},n.run=function(){n.props.history.goBack()},n.sendLoginData=function(e){e.preventDefault();var t={email:e.target.email.value,password:e.target.password.value};n.props.dispatch(Ge(t,function(){n.props.history.goBack()}))},n}return Object(h.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){window.addEventListener("click",e.closeModal)},0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.closeModal)}},{key:"render",value:function(){return a.a.createElement(fe,null,a.a.createElement(me,null,a.a.createElement(be,{onClick:this.run},a.a.createElement(P,{color:"white"},"EXIT")),a.a.createElement(he,{ref:this.loginRef},a.a.createElement(Fe,{onSubmit:this.sendLoginData},a.a.createElement(Ue,null,a.a.createElement(T,{dark:!0},"Login Form")),a.a.createElement(Ae,null,a.a.createElement(De,null,a.a.createElement(Le,null,a.a.createElement(Ce,null,a.a.createElement(P,{dark:!0},"E-mail")),a.a.createElement(Re,null,a.a.createElement(Ne,{name:"email"})))),a.a.createElement(De,null,a.a.createElement(Le,null,a.a.createElement(Ce,null,a.a.createElement(P,{dark:!0},"Password")),a.a.createElement(Re,null,a.a.createElement(Ne,{name:"password"})))),a.a.createElement(De,{end:"true"},a.a.createElement(Se,{type:"submit",value:"SEND"})))),a.a.createElement("hr",null),a.a.createElement(Be,{history:this.props.history}))))}}]),t}(r.Component),Ve={component:Object(u.b)()(Je)},qe={component:function(e){var t=e.staticContext;return(void 0===t?{}:t).notFound=!0,a.a.createElement(r.Fragment,null,a.a.createElement("h1",null,"PAGE NOT FOUND"))}},Ke=[Object(s.a)({},B,{routes:[Object(s.a)({},J,{path:"/",exact:!0}),Object(s.a)({},J,{path:"/home"}),Object(s.a)({},Z,{path:"/firebase"}),Object(s.a)({},Ve,{path:I+"/login"}),Object(s.a)({},Xe,{path:I+"/signup"}),Object(s.a)({},oe,{path:"/users",routes:[Object(s.a)({path:"/users/:id"},ue)]}),Object(s.a)({},qe)]})],Ze=n(244),Qe=n(245),Ye=n.n(Qe),$e=n(96),et=(n(465),n(67)),tt=n.n(et);tt.a.initializeApp({apiKey:"AIzaSyA00ru8sw0ucP8rcSHB_8v27cMXg71ZuTk",authDomain:"firestore-react.firebaseapp.com",databaseURL:"https://firestore-react.firebaseio.com",projectId:"firestore-react",storageBucket:"firestore-react.appspot.com",messagingSenderId:"115453511856"});tt.a.firestore().settings({timestampsInSnapshots:!0});var nt=Object(q.d)(Object(v.reactReduxFirebase)(tt.a,{userProfile:"users",attachAuthIsReady:!0,useFirestoreForProfile:!0,updateProfileOnLogin:!1}),Object($e.reduxFirestore)(tt.a))(q.e),rt=Object(q.c)({firebase:v.firebaseReducer,firestore:$e.firestoreReducer,users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_users":return t.payload.data;default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_posts":return t.payload.data;default:return e}}}),at=[Ze.a.withExtraArgument({getFirebase:v.getFirebase,getFirestore:$e.getFirestore})],ct=q.a.apply(void 0,at.concat([Ye.a])),ot=nt(rt,"undefined"!==typeof window&&window?window.INITIAL_STATE:"",ct);o.a.hydrate(a.a.createElement(u.a,{store:ot},a.a.createElement(i.a,null,a.a.createElement(r.Fragment,null,Object(l.a)(Ke)))),document.querySelector("#root"))}},[[248,2,1]]]);
//# sourceMappingURL=main.1f450f60.chunk.js.map